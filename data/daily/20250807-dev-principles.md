---
title: 2025-08-07 개발 원칙에 대한 메모
description: 최근에 개발에 관해 느낀 것에 대하여
---

최초 작성 2025-08-07
업데이트 ~2025-08-10

개발에서 생산성 그리고 코드 관리를 위해 중요한 점들에 대해 요즘 한 생각들을 메모한다.

---

회사에서는 주로 레거시 코드, 폴더 구조와 싸우고 있다. 짧은 시간에 다 할 수는 없는 분량이라 버그 수정, 기능 개발 등과 병행 중이다. 그렇게 하나하나 고쳐나가는 과정에서 다른 사람들과 의논하기도 하고 조언을 구하기도 하고 있다.

개인적으로는 생산성을 올려주는 툴에 관심이 많아서 레이캐스트, 각종 단축키 등을 익히고 있다. [효율적인 개발을 위한 메모](/study/raycast/)에 꾸준히 기록 중이다.

이런 과정에서 다른 사람들과 의논도 하고 조언을 구하기도 했다. 그 과정에서 얻었던 생각들을 간단히 남긴다.

## 본질에 대한 생각

레거시 코드를 정리하면서 생각했던 것들은 대략 이런 것들이었다.

- 미래의 나를 포함하여 이 코드의 맥락을 잘 모르는 타인이 봤을 때를 생각하면서 코드를 작성하기
- 변경사항을 고려하고 위에서 아래로 읽으며 순차적으로 정보를 받아들일 수 있는 직관적인 구조로 설계하기
- 각 컴포넌트가 책임을 하나씩만 지게 하고 역할에 따라 분류하기
- 규칙을 일관성 있게 지키기

뻔한 말들의 연속이다. 나도 개발을 시작한 지 얼마 되지 않았을 때부터 이런 말들을 다 들어 알고 있었다. 내가 특별히 영특해서가 아니라 코딩 입문서만 펴도 흔하게 볼 수 있는 말들이기 때문이다.

하지만 생각해 보면, 내가 싸우고 있는 이 레거시 코드를 만든 사람들은 이 말들을 전혀 몰랐을까? 내가 있는 곳은 아주 오래된 회사가 아니다. 레거시라고 해도 무슨 10년 된 php 코드 같은 게 아니다. 리액트로 짜인, 채 2년도 안 된 코드들이다. 그럼 이 코드를 짠 사람들도 최근 2년간의 추운 개발 시장에서 어쨌든 회사에 합격해서 일을 한 사람들이니 저 말들을 한번쯤은 들어봤을 거란 말이다. 웬만하면 지키려고 했을 거라고 믿는다.

그런데도 나는 파악하기 힘든 이 코드들 앞에 서게 되었다. 물론 나도 부족한 부분이 있기에 내가 지금 짜는 코드들 또한 누군가에게 (어쩌면 미래에 나에게)는 냄새나는 코드로 인식될 테다. 전임자들 또한 각자의 이유가 있었을 거다.

자연스럽게 그 사람들은 왜 그랬을까부터 시작해서 그럼 나는 본질적으로 어떤 방향으로 나아가야 하고 뭘 기준으로 결정해야 하는지, 무엇을 위해서 코드를 정리하고 생산성을 올리고 이런 작업들을 하는지에 대해 생각하게 되었다. 구체적으로 손에 잡힐 만한 뭔가로 풀어내고 싶어서. 나도 답을 아직 모르지만 머리를 굴려 한 생각들을 간단히 메모한다. 나도 여기서 얻은 것들을 회사에서 지키려고 노력할 것이다.

당연히 몇 년이 또 지나면 또 다른 깨달음들이 있겠지만 그럼에도 지금까지 가진 걸 남긴다.

## 집중해야 할 일에 집중하기

코드를 왜 정리할까? 리팩토링을 하거나 컨벤션을 정할 시간에 컴포넌트 하나를 더 만들고 페이지를 하나 더 찍는다는 선택을 할 수도 있다.

생산성 툴 같은 걸 왜 쓰고 왜 단축키를 사용할까? 물론 저장(`command + s`)나 복사/붙여넣기(`command + c,v`)같은 단축키들은 엄청나게 많이 쓰는 기능이므로 작업시간을 많이 단축해 줄 거라고 생각한다. 그런데 하루에 한번 5분 하는 작업 자동화를 위해서 해머스푼 Lua 스크립트나 레이캐스트 스크립트를 짜는 수준쯤 가면 이미 배보다 배꼽이 커졌다.

하지만 이렇게 당장의 속도를 이유로 모든 걸 뭉개는 것에 대해 나는 별로 동의하지 않는다. 그리고 여기는 내 아카이브이고 내 장소이므로 나는 이에 대해 논쟁할 생각이 없다.

아무튼 저런 원칙과 작업들은 단순히 10분 걸리던 걸 1분으로 단축해 주기 위해서만 존재하는 게 아니다. 이런 것의 진짜 목적은 코드를 짜고 필요한 작업을 함에 있어서 다른 곁가지들이 주는 부하를 줄이고 진짜 집중할 수 있는 작업에 집중할 수 있도록 하기 위해서라고 생각한다. 집중은 너무 쉽게 분산되기 때문이다.

코드를 짜다가 다른 걸 참고할 일이 생겼다고 하자. 깃헙이든 웹 검색이든 로컬 파일이든 뭐든 상관없다. 거기까지 가는 과정에는 집중을 분산시키는 장애물이 너무 많다. dock에서 브라우저를 클릭해 열거나, 웹 검색을 하거나 아니면 finder를 열어서 폴더들을 뒤지면서 원하는 프로젝트를 찾거나... raycast 기능이나 다른 익스텐션 등을 이용해서 이를 한번에 해결했다고 하면 그런 장애물들이 훨씬 줄어든다. 실제로 절약한 시간은 10초 미만이라고 해도, 불필요하게 생각을 분산하는 걸 막고 최대한 필요한 단계만 거칠 수 있다는 게 핵심이다.

## 코드에서

코드를 짤 때도 마찬가지다. 스스로 그리고 팀이 생각하는 부하를 줄이고 진짜 집중해야 하는 작업에 매진할 수 있도록 하기. 그걸 위해서는 작업을 하면서 거치는 잡다한 생각의 과정을 최대한 줄여야 한다.

구체적인 지침이라고 한다면 직관적으로 만들어져서 금방 익힐 수 있는 규칙을 만들고, 그걸 익히고 나면 생각한 곳에 생각한 내용이 있도록 하기. 해당 컴포넌트들이 각자의 역할과 맥락을 벗어나지 않는다는 걸 보장하고 그들의 역할과 맥락을 직관적으로 알 수 있는 이름과 props들을 짓기.([Leaky abstraction](https://medium.com/@vagabond95/leaky-abstraction-77f798dcecd7) 피하기) 가령 프로젝트에서 Button 컴포넌트를 보면 이게 무슨 내부에서 복잡한 디바운싱 로직을 거치거나 어떤 아이콘을 받아서 표시하고 이런 작업이 아니라 "아, 버튼 디자인이 적용된 클릭 가능한 요소 역할을 하는 컴포넌트겠구나"하고 믿을 수 있게 하기.

그리고 그런 흐름을 프로젝트 전체에 걸쳐 적용시키기.

어디에 어떤 역할을 하는 함수가 있고 어떤 컴포넌트가 있으니 조합해서 이러저러하게 만들면 되겠다 하고 생각할 수 있도록, 그리고 다른 사람이 짠 코드라도 생각한 곳에 생각한 것이 있을 가능성이 높도록. 다른 사람이 짠 코드를 봤을 때 직관적으로 알 수 있는 정보가 많도록. 그러기 위한 지침들이 결국 우리가 들은 많은 유명한 말들이라 생각한다.

## 예시

버튼 컴포넌트를 만든다고 하자. 요구사항은 버튼에 텍스트가 있고 클릭하면 어떤 동작이 되도록 하는 데에서 보통 시작한다. `components` 폴더에 `Button`같은 컴포넌트를 만들 수 있겠다.

```tsx
// components/Button.tsx
type ButtonProps = {
  text: string;
  onClick: () => void;
};

function Button({ text, onClick }: ButtonProps) {
  return <button onClick={onClick}>{text}</button>;
}
```

근데 여기에 텍스트 오른쪽에 어떤 체크 표시 아이콘 같은 게 들어가는 요구사항이 생겼다. 언뜻 보기에 이런 생각을 떠올릴 수 있다.

```tsx
type ButtonProps = {
  text: string;
  onClick: () => void;
  rightIcon?: React.ReactNode;
};

function Button({ text, onClick, rightIcon }: ButtonProps) {
  return (
    <button onClick={onClick}>
      {text}
      {rightIcon && <span>{rightIcon}</span>}
    </button>
  );
}
```

요구사항은 계속 변하므로 왼쪽에 아이콘을 추가할 수 있어야 한다는 요구사항이 새로 생겼다. 그럼 leftIcon을 추가해야 할까? 뭐 그럴 수도 있다. 그런데 이런 요구사항들은 끊임없이 생길 수 있다는 게 문제다. 버튼 안에 이미지가 들어가야 하면? 혹은 어떤 상태에 따라서 바뀌는 검증 결과 문구 같은 걸 넣어야 하면 어떤가? 비동기로 가져오는 데이터가 버튼에 들어가야 하면 어쩌지?

이건 버튼에 `disabled`를 추가해야 한다든지 같은 거랑은 다른 문제다. 굳이 aria role("사용자가 활성화했을 때 응답을 트리거하는 클릭 가능한 요소" [MDN, ARIA: button role](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Reference/Roles/button_role))까지 들먹이지 않더라도, 내부에 어떤 데이터가 들어가야 할지는 "클릭해서 뭔가 동작을 할 수 있는 요소" 즉 "버튼"의 맥락을 벗어나는 것까지 포함하는 것이기 때문이다.

디자인 시스템 상의 버튼이라면 `size="sm" | "md" | "lg"`와 같은 props를 가질 수도 있을 것이다. 하지만 이런 컨벤션은 팀에서 정하는 것이고, 본질적으로는 버튼이 버튼의 역할 선에서 상식적으로 동작하도록 코드를 짜야 한다고 생각한다.

또한 외부에서 이 버튼을 바라봤을 때도 문제다. 이 버튼이 쓰인 코드를 외부에서 봤을 때 대체 어떤 역할인지 어떻게 쉽게 판단할 수 있을까?

가령 나는 이런 식으로 짜인 버튼을 본 적이 있다. 코드의 더러움은 차치하고 보더라도 이 정도로 많은 정보가 외부에서 들어가는 버튼이면 무슨 다른 역할이 있을 수도 있다는 생각이 들어서 한눈에 보고 넘어가기 힘든 게 오히려 정상이라고 생각한다. 버튼 같은 가벼운 컴포넌트까지 내부를 까보면서 페이지를 짜야 한다면 대체 얼마나 비효율적인 일인가!

```tsx
<Button
  text="Add Task"
  initialValue="..."
  leftIcon={/* 버튼 내부 왼쪽에 들어갈 아이콘 컴포넌트 */}
  rightIcon={/* 버튼 내부 오른쪽에 들어갈 아이콘 컴포넌트 */}
  iconAlign="..."
  imagePath={"./src/assets/example.png"}
  onClick={() =>
    // onClick 로직
  }
/>
```

따라서 다음과 같이 고차 컴포넌트로 가는 게 "클릭으로써 어떤 액션을 만들 수 있는 요소"라는 버튼의 역할을 제대로 수행할 수 있도록 해주는 거라고 생각한다. 버튼은 버튼의 역할만 잘 하고 있으니 외부에서 어떻게 다루든 해당 동작을 믿고 쓸 수 있게 하는 것.

```tsx
type ButtonProps = {
  children: React.ReactNode;
  onClick: () => void;
};

function Button({ children, onClick }: ButtonProps) {
  return <button onClick={onClick}>{children}</button>;
}
```

radix UI 등에서 이런 방식을 채택하고 있다. radix 같은 경우 베이스 UI를 구성하는 라이브러리이므로 UI를 구성하는 각 요소의 역할에 따라 요소들이 잘게 쪼개져 있고 이들을 조립해 역할에 따라 새로운 컴포넌트들을 만들 수 있게 되어 있어서 컴포넌트 설계 면에서 배울 점이 많다.

그리고 본질은 button을 통일해야 한다거나 props를 줄여야 한다는 게 아니다. 가령 Radix에서는 button에 `variant` props(`"classic" | "solid" | "soft" | "surface" | "outline" | "ghost"`)를 전달해서 버튼 스타일을 정하게 한다. 하지만 이건 radix UI에서는 범용 버튼을 제공해야 하기 때문에 그런 것이고 `OutlineButton`과 `SolidButton`이 따로 있다 해도 그게 무슨 상관인가?

중요한 건 각 버튼이 본질적인 역할을 제대로 해냄으로써 모든 프로젝트 참여자가 "아, 지금 내가 필요한 건 이 역할이니 이 버튼을 갖다 쓰면 되겠구나"하고, 어떤 숨어 있는 로직 같은 게 없겠구나 하는 걸 믿고 씀으로써 다른 정말 중요한 작업에 집중할 수 있도록 하는 것이다.

---

폴더 구조 관점에서는 특히 예측 가능한 규칙을 만들고 따르는 게 효율을 만든다. 이런 일관성 있는 규칙이 있는 프로젝트에서 일을 하게 되면 일이 점점 빨라지는 걸 경험할 수 있다. 내가 짠 코드가 아니더라도 생각한 곳에 생각한 내용이 있고 어떤 역할을 할지 충분히 대강 예측할 수 있어서 갖다 쓰면 되니까. 그리고 다른 곳에 어떤 뜬금없는 컴포넌트가 있어서 내가 갖다 써야 할 거라고 생각하지 않을 수 있으니까.

예를 들어 `global/components` 폴더를 만들어서 전역에서 쓰이는 컴포넌트들을 넣어 놓았다. 그리고 각 페이지에 필요한 컴포넌트, 예를 들어 로그인 페이지에 쓰이는 로그인 폼 컴포넌트와 같은 건 페이지에 해당하는 모듈 같은 폴더에 넣어 놓았다고 하자. `LoginForm` 컴포넌트는 `src/module/login/LoginForm.tsx`에 있다.

근데 로그인 폼은 다른 곳에서도 얼마든지 쓰일 수 있다. 예를 들어 글을 쓸 때 비로그인 유저의 경우 로그인을 요구하는 모달을 띄워야 하는 요구사항아 있을 수 있다.

그래서 게시글 작성 페이지에 해당하는 모듈에 모달을 만든다. `src/module/create-post/components/LoginModal.tsx`를 만들고 `LoginForm`을 갖다 쓴 것이다. 나쁘지 않..다?

그러나 생각해 보면 이런 로그인 모달은 쓸 일이 많을 수 있다. 로그인을 요구하는 페이지가 하나뿐이기는 오히려 쉽지 않으니까. 하지만 이렇게 페이지 module 폴더에 컴포넌트를 넣어 놓으면 다른 작업을 하는 사람은 이런 맥락을 전혀 모르기가 쉽다. 만약 다른 페이지를 작업하다가 로그인 요구가 필요해져서 `LoginModal`을 열심히 구성했는데, 코드리뷰에서 "어 그거 `create-post`에서 LoginModal 있어요" 라는 말을 듣는다면 얼마나 허탈할까 그리고 얼마나 시간 낭비일까?

LoginModal을 만드는 시점에서 `global/components`에 넣어 놓았다면 좋았을 것이다. 다른 페이지 모듈을 챙겨볼 수는 없더라도 보통 전역 컴포넌트 폴더는 많이들 훑어보면서 작업하기 마련이고 또한 그런 폴더의 변경사항은 팀 내에서 훨씬 쉽게 공유되기 때문이다. `LoginModal`을 만든 사람이 파일을 이동하는 정도의 노력만 했더라면...

로그인 모달은 예시일 뿐이지만 전 회사에서 내가 실제로 많이 겪었던 일이다. 따라서 이런 일을 최소화하기 위해서, "기본적으로 프로젝트를 훑어보기만 하더라도 최대한 많은 정보를 얻을 수 있도록 하는 것"이 중요하고 그걸 위해서는 일관성 있는 규칙을 지켜나가는 게 가장 중요하다고 생각한다.

---

일을 잘하는 팀은 작업물이 쌓여가면서 작업 속도가 점점 빨라지고 반대로 일을 못하는 팀은 작업물이 쌓여갈수록 점점 느려진다는 말을 우연히 링크드인에서 보았다. 맞는 말이라고 생각한다. 근데 이상한 일이다. 사람들에게 "작업이 점점 빨라지고 편해지기"와 "작업이 점점 느려지고 머리 아파지기" 둘 중에 고르라면 대부분 전자를 고를 것이다. 그런데 왜 다들 원하는 대로 가지 못할까?

나는 당장의 속도에 매몰되는 게 크다고 생각한다. "그거 설정할 시간에 코드 한 줄 더 짜지"나 "그거 정리할 시간에 다른 거 하면..."같은 개소리가 작업 속도를 침체시킨다고 생각한다. 하루이틀 코드 짜고 끝일 거라면 상관없지만 계속 들여다볼 코드를 짠다면 일관성을 미치도록 지키는 게 작업 속도를 점점 올려줄 거다. 그리고 그건 뭐 엄청나게 어려운 문제를 푸는 데서 나오는 게 아니라고 생각한다. 사소한 규칙들을 만들고 지킴으로써 그런 것을 따지는 데에 시간을 허비하지 않게 하는 것이다.

[Consistency is king](https://www.reddit.com/r/getdisciplined/comments/kodmz2/advice_consistency_is_king_nothing_else_matters/)
